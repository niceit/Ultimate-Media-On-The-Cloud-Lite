/*! Ultimate Media On The Cloud | (c) PhpRockets Team | Global object for plugin */
var phpR_UCM={jLoading:jQuery(".ucm-settings-body"),showLoading:function(){this.jLoading.find(".ucm-loading-lock").fadeIn(500)},hideLoading:function(){this.jLoading.find(".ucm-loading-lock").fadeOut(1e3)},toast:{jToast:jQuery("#ucm-save-dialog"),_timeout:1e4,_timeout_obj:"",show:function(t,e){this.jToast.hide(),this.jToast.removeClass("is-success is-warning"),"error"===t?(this.jToast.addClass("is-warning"),this.jToast.find("span.toast-title").html("Error")):(this.jToast.addClass("is-success"),this.jToast.find("span.toast-title").html("Success")),this.jToast.find("b.toast-message").html(e),this.jToast.fadeIn(500),phpR_UCM.toast._timeout_obj=setTimeout(function(){phpR_UCM.toast.hide()},phpR_UCM.toast._timeout)},hide:function(){this.jToast.fadeOut(1e3),clearTimeout(phpR_UCM.toast._timeout_obj)}},modal:{show:function(t){t.addClass("is-active")},close:function(t){t.removeClass("is-active")}},tags:{add:function(t,e){jQuery(e).parents(".input-tags").find(".tags-wrap").append('<div class="tags has-addons tag-element"><span class="tag is-danger">'+t+'</span><a href="javascript:;" class="tag is-delete" onclick="phpR_UCM.tags.remove(this)"></a></div>'),phpR_UCM.tags._updateValue(e)},remove:function(t){var e=jQuery(t).parents(".tags-wrap");jQuery(t).parent(".tag-element").remove(),phpR_UCM.tags._updateValue(e)},_updateValue:function(t){var e=jQuery(t).parents(".input-tags").find(".tags-wrap"),s=jQuery(t).parents(".input-tags").find("input.tags-hidden-value"),a=[];e.find(".tag-element").each(function(){a.push(jQuery(this).text().trim())}),s.val(a.join(","))}},l10n:{_e:function(type,key){var l10n=eval("phprockets_"+type+"_l10n");return l10n.hasOwnProperty(key)?l10n[key]:""}},checkNews:function(){0<jQuery("#phprockets-ucm-news").length&&jQuery.ajax({url:phprockets_news.url,type:"GET",dataType:"json",timeout:36e4,success:function(t){t.success&&""!==t.data.content&&(jQuery("#phprockets-ucm-news").find(".news-body").html(t.data.content),jQuery("#phprockets-ucm-news").fadeIn(1e3))}})}};jQuery(function(){jQuery(".btn-close-modal, #btn-close-modal").click(function(t){t.preventDefault(),jQuery(this).parents(".ucm-modal").removeClass("is-active")}),jQuery(".btn-tag-preview-remove").click(function(t){t.preventDefault(),phpR_UCM.tags.remove(this)}),jQuery(".field-add-post-type").blur(function(){jQuery(this).val()&&(phpR_UCM.tags.add(jQuery(this).val(),this),jQuery(this).val(""))}),jQuery(".field-add-post-type").on("keyup",function(t){13===t.keyCode&&jQuery(this).val()&&(phpR_UCM.tags.add(jQuery(this).val(),this),jQuery(this).val(""))}),phpR_UCM.checkNews()});