/*! Ultimate Media On The Cloud | (c) PhpRockets Team | Global object for plugin */
var phpR_UCM={jLoading:[],showLoading:function(){this.jLoading=jQuery(".ucm-settings-body"),this.jLoading.find(".ucm-loading-lock").fadeIn(500)},hideLoading:function(){this.jLoading=jQuery(".ucm-settings-body"),this.jLoading.find(".ucm-loading-lock").fadeOut(1e3)},toast:{jToast:[],_timeout:1e4,_timeout_obj:"",show:function(t,e){this.jToast=jQuery("article#ucm-save-dialog"),this.jToast.hide(),this.jToast.removeClass("is-success is-warning"),"error"===t?(this.jToast.addClass("is-warning"),this.jToast.find("span.toast-title").html("Error")):(this.jToast.addClass("is-success"),this.jToast.find("span.toast-title").html("Success")),this.jToast.find("b.toast-message").html(e),this.jToast.fadeIn(500),phpR_UCM.toast._timeout_obj=setTimeout(function(){phpR_UCM.toast.hide()},phpR_UCM.toast._timeout)},hide:function(){this.jToast=jQuery("article#ucm-save-dialog"),this.jToast.fadeOut(1e3),clearTimeout(phpR_UCM.toast._timeout_obj)}},modal:{show:function(t){t.addClass("is-active")},close:function(t){t.fadeOut(500),setTimeout(function(){t.removeClass("is-active").removeAttr("style")},1e3)}},tags:{add:function(t,e){jQuery(e).parents(".input-tags").find("input.tags-hidden-value").val().split(",").includes(t)||(jQuery(e).parents(".input-tags").find(".tags-wrap").append('<div class="tags has-addons tag-element"><span class="tag is-danger">'+t+'</span><a href="javascript:;" class="tag is-delete" onclick="phpR_UCM.tags.remove(this)"></a></div>'),phpR_UCM.tags._updateValue(e))},remove:function(t){var e=jQuery(t).parents(".tags-wrap");jQuery(t).parent(".tag-element").remove(),phpR_UCM.tags._updateValue(e)},_updateValue:function(t){var e=jQuery(t).parents(".input-tags").find(".tags-wrap"),s=jQuery(t).parents(".input-tags").find("input.tags-hidden-value"),a=[];e.find(".tag-element").each(function(){a.push(jQuery(this).text().trim())}),s.val(a.join(","))}},l10n:{_e:function(type,key){var l10n=eval("phprockets_"+type+"_l10n");return l10n.hasOwnProperty(key)?l10n[key]:""}},checkNews:function(){0<jQuery("#phprockets-ucm-news").length&&jQuery.ajax({url:phprockets_news.url,type:"GET",dataType:"json",timeout:36e4,success:function(t){t.success&&""!==t.data.content&&(jQuery("#phprockets-ucm-news").find(".news-body").html(t.data.content),jQuery("#phprockets-ucm-news").fadeIn(1e3))}})},loadAddOns:function(){jQuery.ajax({url:phprockets_general.loadAddOns,type:"GET",dataType:"json",timeout:36e4,success:function(t){t.success?jQuery("#ucm-addons-content").html(t.data.html):jQuery("#ucm-addons-content").html(t.data.message)},error:function(t,e,s){jQuery("#ucm-addons-content").html(s)}})}};jQuery(function(){var t=jQuery(".ucm-settings-body .tabs").find("li.is-active a").data("target");jQuery("#"+t).show(),jQuery("a.ucm-settings-nav").click(function(){jQuery(".ucm-settings-body").find(".tabs").find("li").removeClass("is-active"),jQuery(this).parent("li").addClass("is-active");var t=jQuery(this).data("target");jQuery(".ucm-settings-body").find(".panel-body").hide(),jQuery(".ucm-settings-body").find(".panel-body#"+t).show()}),jQuery(".btn-close-modal, #btn-close-modal").click(function(t){t.preventDefault(),phpR_UCM.modal.close(jQuery(this).parents(".ucm-modal"))}),jQuery(".btn-tag-preview-remove").click(function(t){t.preventDefault(),phpR_UCM.tags.remove(this)}),jQuery(".field-add-post-type").blur(function(){jQuery(this).val()&&(phpR_UCM.tags.add(jQuery(this).val(),this),jQuery(this).val(""))}),jQuery(".field-add-post-type").on("keyup",function(t){13===t.keyCode&&jQuery(this).val()&&(phpR_UCM.tags.add(jQuery(this).val(),this),jQuery(this).val(""))}),jQuery(".field-tags-hint").on("keypress",function(t){var e=jQuery("#"+jQuery(this).attr("hints-target")).val().split(","),s=jQuery(this).val(),a=jQuery(this).parents(".control:eq(0)").find(".tags-hints");if(a.hide().find("ul").html(""),2<=s.length){for(var i="",n=0;n<e.length;n++)0<=e[n].search(s)&&(i+="<li>"+e[n]+"</li>");""!==i&&(a.find("ul").html(i),a.show())}}),jQuery(".field-tags-hint").on("keyup",function(t){t.preventDefault();var e=jQuery("#"+jQuery(this).attr("hints-target")).val().split(",");13===t.keyCode&&jQuery(this).val()&&(e.includes(jQuery(this).val())&&phpR_UCM.tags.add(jQuery(this).val(),this),jQuery(this).val(""))}),jQuery(".tags-hints ul").on("click","li",function(t){t.preventDefault(),phpR_UCM.tags.add(jQuery(this).text(),this),jQuery(this).parents(".control:eq(0)").find(".field-tags-hint").val(""),jQuery(this).parents(".tags-hints:eq(0)").hide().find("ul").html("")}),jQuery(".ucm-accounts-tab-links a").click(function(t){t.preventDefault(),jQuery(".ucm-accounts-tab-links a").removeClass("is-active"),jQuery(this).addClass("is-active");var e=jQuery("#"+jQuery(this).data("id"));jQuery(".account-panel-body").removeClass("is-active"),e.addClass("is-active")}),phpR_UCM.checkNews()});